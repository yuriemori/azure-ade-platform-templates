name: secure-webapp
version: 1.0.0
summary: Secure and Scalable Web Application Environment
description: |
  A complete Azure web application environment with security best practices.
  Includes frontend/backend App Services, Azure SQL Database, Key Vault, 
  Application Gateway with WAF, and Application Insights monitoring.
  All components are configured with Managed Identity and private networking.
runner: ARM
templatePath: main.bicep
parameters:
  - id: environmentName
    name: Environment Name
    description: Name for the environment (used as prefix for all resources)
    type: string
    required: true
  - id: location
    name: Azure Region
    description: Azure region where resources will be deployed
    type: string
    default: japaneast
    required: true
  - id: appServicePlanSku
    name: App Service Plan SKU
    description: SKU for the App Service Plan
    type: string
    default: P1v3
    allowed:
      - B1
      - B2
      - B3
      - S1
      - S2
      - S3
      - P1v3
      - P2v3
      - P3v3
  - id: sqlDatabaseSku
    name: SQL Database SKU
    description: SKU for Azure SQL Database
    type: string
    default: S1
    allowed:
      - Basic
      - S0
      - S1
      - S2
      - S3
      - P1
      - P2
      - P4
  - id: enableApplicationGateway
    name: Enable Application Gateway
    description: Whether to deploy Application Gateway with WAF
    type: boolean
    default: true
  - id: containerImageTag
    name: Container Image Tag
    description: Tag for container images (frontend and backend)
    type: string
    default: "latest"